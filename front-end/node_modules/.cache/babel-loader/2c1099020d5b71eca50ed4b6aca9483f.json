{"ast":null,"code":"var _jsxFileName = \"C:\\\\DevWeb\\\\site\\\\C-LAB2020-1\\\\front-end\\\\src\\\\components\\\\PersonList.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nconst Item = function ({\n  item\n}) {\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 5\n    }\n  }, item.id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }, item.first_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, item.last_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }\n  }, item.role), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }\n  }, item.note), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: `/profilVisiteur/` + item.id\n    },\n    className: \"nav-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }\n  }, \"Voir profil\"))));\n};\n\nconst ItemList = ({\n  list\n}) => {\n  return /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-striped table-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, \"Pr\\xE9nom\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, \"Nom\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, \"R\\xF4le\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }, \"Nbre Collaborateurs\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, \"Profil\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, list.map(listitem => {\n    return /*#__PURE__*/React.createElement(Item, {\n      key: listitem.id,\n      item: listitem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 28\n      }\n    });\n  })));\n};\n\nexport default class Filter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnChange = event => {\n      let val = event.target.value;\n      this.setState({\n        selected: val\n      });\n    };\n\n    this.state = {\n      selected: '',\n      persons: [],\n      selectedPersons: []\n    };\n    this.handleOnChange = this.handleOnChange.bind(this);\n    this.handlesubmit = this.handlesubmit.bind(this);\n  }\n\n  handlesubmit() {\n    if (this.state.selected === \"Tous\") {\n      this.setState({\n        selectedPersons: this.state.persons\n      });\n    } else {\n      const result = this.state.persons.filter(user => user.role === this.state.selected);\n      this.setState({\n        selectedPersons: result\n      });\n    }\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:8080/users').then(res => {\n      this.setState({\n        persons: res.data,\n        selectedPersons: res.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, \" Catalogue \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }, \" Affinez votre recherche: \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"mr-sm-2 sr-only\",\n      htmlFor: \"inlineFormCustomSelect\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"Preference\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select mr-sm-2\",\n      id: \"inlineFormCustomSelect\",\n      name: \"selected\",\n      onChange: this.handleOnChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      defaultValue: true,\n      value: \"Tous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, \"Tous...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Producteur\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, \"Producteur\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Rappeur\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, \"Rappeur\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Bass\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, \"Bass\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.handlesubmit,\n      className: \"btn btn-primary mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, \"Soumettre\"))), /*#__PURE__*/React.createElement(ItemList, {\n      list: this.state.selectedPersons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/DevWeb/site/C-LAB2020-1/front-end/src/components/PersonList.js"],"names":["React","axios","Link","Item","item","id","first_name","last_name","role","note","pathname","ItemList","list","map","listitem","Filter","Component","constructor","props","handleOnChange","event","val","target","value","setState","selected","state","persons","selectedPersons","bind","handlesubmit","result","filter","user","componentDidMount","get","then","res","data","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Item = function ({item}) {\r\n    return <tr>\r\n    <th scope=\"row\">{item.id}</th>\r\n    <td>{item.first_name}</td>\r\n    <td>{item.last_name}</td>\r\n    <td>{item.role}</td>\r\n    <td>{item.note}</td>\r\n    <td>\r\n        <Link to={{\r\n                    pathname: `/profilVisiteur/` + item.id\r\n                }} \r\n        className=\"nav-link\">\r\n            <button>\r\n                Voir profil\r\n            </button>\r\n        </Link>\r\n    </td>\r\n    </tr>;\r\n}\r\n\r\nconst ItemList = ({ list }) => {\r\n    return (\r\n        <table className=\"table table-striped table-dark\">\r\n            <thead>\r\n                <tr>\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Prénom</th>\r\n                <th scope=\"col\">Nom</th>\r\n                <th scope=\"col\">Rôle</th>\r\n                <th scope=\"col\">Nbre Collaborateurs</th>\r\n                <th scope=\"col\">Profil</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {list.map(listitem => {\r\n                    return <Item key={listitem.id} item={listitem} />\r\n                })}\r\n            </tbody>\r\n        </table>\r\n    );\r\n}\r\n\r\nexport default class Filter extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            selected: '',\r\n            persons: [],\r\n            selectedPersons : []\r\n        };\r\n\r\n        this.handleOnChange = this.handleOnChange.bind(this)\r\n        this.handlesubmit = this.handlesubmit.bind(this)\r\n    }\r\n\r\n    handlesubmit () {\r\n        if (this.state.selected === \"Tous\") {\r\n            this.setState({\r\n                selectedPersons: this.state.persons\r\n            })\r\n        }\r\n        else {\r\n            const result = this.state.persons.filter(user => user.role === this.state.selected) \r\n            this.setState({\r\n                selectedPersons: result\r\n            })\r\n        }\r\n        \r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        let val = event.target.value;\r\n        this.setState({ selected: val})\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('http://localhost:8080/users').then(res => {\r\n            this.setState({ \r\n                persons: res.data,\r\n                selectedPersons: res.data,\r\n             });\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"\">\r\n            <div className=\"col-auto\">\r\n                    <h1> Catalogue </h1>\r\n            </div>\r\n            <div className=\"form-row\">\r\n                <div className=\"col-auto\">\r\n                        <label> Affinez votre recherche: </label>\r\n                </div>\r\n                <div className=\"col-auto\">\r\n                    <label className=\"mr-sm-2 sr-only\" htmlFor=\"inlineFormCustomSelect\">Preference</label>\r\n                    <select className=\"custom-select mr-sm-2\" \r\n                        id=\"inlineFormCustomSelect\"\r\n                        name='selected'\r\n                        onChange={this.handleOnChange}>\r\n                        <option defaultValue value=\"Tous\">Tous...</option>\r\n                        <option value=\"Producteur\">Producteur</option>\r\n                        <option value=\"Rappeur\">Rappeur</option>\r\n                        <option value=\"Bass\">Bass</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"col-auto\">\r\n                    <button type=\"submit\" onClick={this.handlesubmit} className=\"btn btn-primary mb-2\">Soumettre</button>\r\n                </div>\r\n            </div>\r\n            <ItemList list={this.state.selectedPersons}/>\r\n        </div>\r\n    );}\r\n}"]},"metadata":{},"sourceType":"module"}