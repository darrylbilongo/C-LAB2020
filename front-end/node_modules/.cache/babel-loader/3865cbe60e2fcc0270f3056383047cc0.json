{"ast":null,"code":"var _jsxFileName = \"C:\\\\DevWeb\\\\site\\\\C-LAB2020-1\\\\front-end\\\\src\\\\components\\\\Link.js\";\nimport React from \"react\";\nimport { link } from './UserFonctions';\nimport { update } from './UserFonctions';\nimport jwt_decode from 'jwt-decode';\nimport Youtube from '../images/youtube.png';\nimport Insta from '../images/Insta.png';\nimport Twitter from '../images/Twitter_Logo.png';\nimport axios from 'axios';\n\nclass Link extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lienYoutube: '',\n      lienInsta: '',\n      lienAutre: '',\n      user: '',\n      newName: '',\n      newSurname: '',\n      newDescription: '',\n      newRole: 'Rappeur',\n      YoutOf: [],\n      InstaOf: [],\n      TwitOf: []\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(event) {\n    let nam = event.target.name;\n    let val = event.target.value;\n    this.setState({\n      [nam]: val\n    });\n  }\n\n  async componentDidMount() {\n    const token = await localStorage.getItem('usertoken');\n    const decoded = jwt_decode(token);\n    this.setState({\n      user: decoded\n    });\n    axios.get('http://localhost:8080/links/youtube/' + decoded.id).then(res => {\n      this.setState({\n        YoutOf: res.data\n      });\n      console.log(this.state.youtube);\n    }).catch(err => console.log(err));\n    axios.get('http://localhost:8080/links/insta/' + decoded.id).then(res => {\n      this.setState({\n        InstaOf: res.data\n      });\n    }).catch(err => console.log(err));\n    axios.get('http://localhost:8080/links/twitter/' + decoded.id).then(res => {\n      this.setState({\n        TwitOf: res.data\n      });\n    }).catch(err => console.log(err));\n  }\n\n  onSubmit(event) {\n    const token = localStorage.getItem('usertoken');\n    const decoded = jwt_decode(token);\n    this.setState({\n      user: decoded\n    });\n    event.preventDefault();\n\n    if (this.state.newDescription == '') {\n      this.state.newDescription = decoded.description;\n    }\n\n    if (this.state.newName == '') {\n      this.state.newName = decoded.last_name;\n    }\n\n    if (this.state.newSurname == '') {\n      this.state.newSurname = decoded.first_name;\n    }\n\n    if (this.state.newRole == '') {\n      this.state.newRole = decoded.role;\n    }\n\n    if (this.state.lienYoutube == '') {\n      this.state.lienYoutube = this.state.YoutOf.contenu;\n    }\n\n    if (this.state.lienInsta == '') {\n      this.state.lienInsta = this.state.InstaOf.contenu;\n    }\n\n    if (this.state.lienAutre == '') {\n      this.state.lienAutre = this.state.TwitOf.contenu;\n    }\n\n    axios.put('http://localhost:8080/users/' + decoded.id, {\n      description: this.state.newDescription,\n      first_name: this.state.newSurname,\n      last_name: this.state.newName,\n      role: this.state.newRole\n    });\n    axios.post('http://localhost:8080/links/compte', {\n      contenu: this.state.lienYoutube,\n      categorie: \"youtube\",\n      UserId: decoded.id\n    });\n    axios.post('http://localhost:8080/links/compte', {\n      contenu: this.state.lienAutre,\n      categorie: \"twitter\",\n      UserId: decoded.id\n    });\n    axios.post('http://localhost:8080/links/compte', {\n      contenu: this.state.lienInsta,\n      categorie: \"instagram\",\n      UserId: decoded.id\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"setting\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"formulaire4\",\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      class: \"text-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 27\n      }\n    }, \"Modifiez ou compl\\xE9tez vos donn\\xE9es\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inscrip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 60\n      }\n    }, \"Nom \")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"newName\",\n      className: \"form-control\",\n      placeholder: \"Entrez votre nom\",\n      value: this.state.newName,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inscrip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 60\n      }\n    }, \"Pr\\xE9nom\"), \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"newSurname\",\n      className: \"form-control\",\n      placeholder: \"Entrez votre pr\\xE9nom\",\n      value: this.state.newSurname,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inscrip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 60\n      }\n    }, \"Description\"), \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"description\",\n      name: \"newDescription\",\n      className: \"form-control\",\n      placeholder: \"Entrez votre description\",\n      value: this.state.newDescription,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inscrip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 58\n      }\n    }, \" Choisissez votre r\\xF4le \")), /*#__PURE__*/React.createElement(\"select\", {\n      class: \"form-control form-control-lg\",\n      onSelect: this.onChange,\n      onChange: this.onChange,\n      name: \"newRole\",\n      value: this.newRole,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 33\n      }\n    }, \"Rappeur\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 33\n      }\n    }, \"Bass\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 33\n      }\n    }, \"Producteur\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inscrip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 35\n      }\n    }, \"Youtube \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.youtube.com/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 70\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Youtube,\n      width: \"30\",\n      height: \"30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 105\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"lienYoutube\",\n      className: \"form-control\",\n      placeholder: \"Entrez votre lien youtube\",\n      value: this.state.lienYoutube,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 35\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inscrip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 35\n      }\n    }, \"Instagram \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.instagram.com/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 72\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Insta,\n      width: \"30\",\n      height: \"30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 109\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"lienInsta\",\n      className: \"form-control\",\n      placeholder: \"Entrez votre lien instagram\",\n      value: this.state.lienInsta,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 35\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inscrip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 35\n      }\n    }, \"Twitter \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://twitter.com/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 70\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Twitter,\n      width: \"30\",\n      height: \"30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 105\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"lienAutre\",\n      className: \"form-control\",\n      placeholder: \"Entrez votre lien twitter\",\n      value: this.state.lienAutre,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 35\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-block btn-lg btn-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, \"Envoyer\")));\n  }\n\n}\n\nexport default Link;","map":{"version":3,"sources":["C:/DevWeb/site/C-LAB2020-1/front-end/src/components/Link.js"],"names":["React","link","update","jwt_decode","Youtube","Insta","Twitter","axios","Link","Component","constructor","props","state","lienYoutube","lienInsta","lienAutre","user","newName","newSurname","newDescription","newRole","YoutOf","InstaOf","TwitOf","onChange","bind","onSubmit","event","nam","target","name","val","value","setState","componentDidMount","token","localStorage","getItem","decoded","get","id","then","res","data","console","log","youtube","catch","err","preventDefault","description","last_name","first_name","role","contenu","put","post","categorie","UserId","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { link } from './UserFonctions';\r\nimport {update} from './UserFonctions';\r\nimport jwt_decode from 'jwt-decode';\r\nimport Youtube from '../images/youtube.png'\r\nimport Insta from '../images/Insta.png'\r\nimport Twitter from '../images/Twitter_Logo.png'\r\nimport axios from 'axios';\r\n\r\nclass Link extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    \r\n    state = {\r\n        lienYoutube: '',\r\n        lienInsta: '',\r\n        lienAutre: '',\r\n        user: '',\r\n        newName: '',\r\n        newSurname: '',\r\n        newDescription: '',\r\n        newRole: 'Rappeur',\r\n        YoutOf: [],\r\n        InstaOf: [],\r\n        TwitOf: []\r\n    };\r\n\r\n    onChange(event) {\r\n      let nam = event.target.name;\r\n      let val = event.target.value;\r\n      this.setState({[nam]: val});\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n            const token = await localStorage.getItem('usertoken');\r\n            const decoded = jwt_decode(token);\r\n            this.setState({\r\n                user: decoded,\r\n            })\r\n            axios.get('http://localhost:8080/links/youtube/' + decoded.id)\r\n            .then((res) => {\r\n                this.setState({\r\n                    YoutOf: res.data\r\n                })\r\n                console.log(this.state.youtube)\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n            axios.get('http://localhost:8080/links/insta/' + decoded.id)\r\n            .then((res) => {\r\n                this.setState({\r\n                    InstaOf: res.data\r\n                })\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n            axios.get('http://localhost:8080/links/twitter/' + decoded.id)\r\n            .then((res) => {\r\n                this.setState({\r\n                    TwitOf: res.data\r\n                })\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    \r\n  \r\n    onSubmit(event) {\r\n        const token = localStorage.getItem('usertoken');\r\n            const decoded = jwt_decode(token);\r\n\r\n            this.setState({\r\n                user: decoded,\r\n            })\r\n      event.preventDefault();\r\n    if(this.state.newDescription == ''){\r\n        this.state.newDescription = decoded.description\r\n      }\r\n\r\n    if(this.state.newName == ''){\r\n        this.state.newName = decoded.last_name\r\n    }\r\n\r\n    if(this.state.newSurname == ''){\r\n        this.state.newSurname = decoded.first_name\r\n    }\r\n\r\n    if(this.state.newRole == ''){\r\n        this.state.newRole = decoded.role\r\n    }\r\n\r\n    if(this.state.lienYoutube == ''){\r\n        this.state.lienYoutube = this.state.YoutOf.contenu\r\n    }\r\n\r\n    if(this.state.lienInsta == ''){\r\n        this.state.lienInsta = this.state.InstaOf.contenu\r\n    }\r\n\r\n    if(this.state.lienAutre == ''){\r\n        this.state.lienAutre = this.state.TwitOf.contenu\r\n    }\r\n\r\n\r\n     axios.put('http://localhost:8080/users/' + decoded.id, {\r\n            description: this.state.newDescription,\r\n            first_name: this.state.newSurname,\r\n            last_name: this.state.newName,\r\n            role: this.state.newRole\r\n        })\r\n        axios.post('http://localhost:8080/links/compte',{\r\n            contenu: this.state.lienYoutube,\r\n            categorie :\"youtube\",\r\n            UserId: decoded.id\r\n        })\r\n        axios.post('http://localhost:8080/links/compte',{\r\n            contenu: this.state.lienAutre,\r\n            categorie :\"twitter\",\r\n            UserId: decoded.id\r\n        })\r\n        axios.post('http://localhost:8080/links/compte',{\r\n            contenu: this.state.lienInsta,\r\n            categorie :\"instagram\",\r\n            UserId: decoded.id\r\n        })\r\n    }\r\n    \r\n\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"setting\">\r\n                          <form className= \"formulaire4\" noValidate onSubmit={this.onSubmit}>\r\n                          <h3 class=\"text-dark\">Modifiez ou complétez vos données</h3>\r\n                            <div className=\"form-group\">\r\n                                <label className=\"inscrip\"><h6>Nom </h6></label>\r\n                                <input type=\"text\"\r\n                                    name=\"newName\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Entrez votre nom\"\r\n                                    value={this.state.newName}\r\n                                    onChange={this.onChange}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label className=\"inscrip\"><h6>Prénom</h6> </label>\r\n                                <input type=\"text\"\r\n                                    name=\"newSurname\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Entrez votre prénom\"\r\n                                    value={this.state.newSurname}\r\n                                    onChange={this.onChange}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label className=\"inscrip\"><h6>Description</h6> </label>\r\n                                <input type=\"description\"\r\n                                    name=\"newDescription\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Entrez votre description\"\r\n                                    value={this.state.newDescription}\r\n                                    onChange={this.onChange}\r\n                                />\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group\">\r\n                              <label className=\"inscrip\"><h6> Choisissez votre rôle </h6></label>\r\n                              <select class=\"form-control form-control-lg\"\r\n                                  onSelect={this.onChange}\r\n                                  onChange={this.onChange}\r\n                                  name=\"newRole\"\r\n                                  value={this.newRole}\r\n                              required>\r\n                                <option>Rappeur</option>\r\n                                <option>Bass</option>\r\n                                <option>Producteur</option>\r\n                              </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                  <label className=\"inscrip\">Youtube <a href=\"https://www.youtube.com/\"><img src={Youtube} width=\"30\" height=\"30\"></img></a></label>\r\n                                  <input type=\"text\"\r\n                                      name=\"lienYoutube\"\r\n                                      className=\"form-control\"\r\n                                      placeholder=\"Entrez votre lien youtube\"\r\n                                      value={this.state.lienYoutube}\r\n                                      onChange={this.onChange}\r\n                                  />\r\n                              </div>\r\n                              <div className=\"form-group\">\r\n                                  <label className=\"inscrip\">Instagram <a href=\"https://www.instagram.com/\"><img src={Insta} width=\"30\" height=\"30\"></img></a></label>\r\n                                  <input type=\"text\"\r\n                                      name=\"lienInsta\"\r\n                                      className=\"form-control\"\r\n                                      placeholder=\"Entrez votre lien instagram\"\r\n                                      value={this.state.lienInsta}\r\n                                      onChange={this.onChange}\r\n                                  />\r\n                              </div>\r\n                              <div className=\"form-group\">\r\n                                  <label className=\"inscrip\">Twitter <a href=\"https://twitter.com/home\"><img src={Twitter} width=\"30\" height=\"30\"></img></a></label>\r\n                                  <input type=\"email\"\r\n                                      name=\"lienAutre\"\r\n                                      className=\"form-control\"\r\n                                      placeholder=\"Entrez votre lien twitter\"\r\n                                      value={this.state.lienAutre}\r\n                                      onChange={this.onChange}\r\n                                  />\r\n                              </div>\r\n                            <button type=\"submit\"\r\n                            className=\"btn btn-block btn-lg btn-light\">\r\n                                Envoyer\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                \r\n        );\r\n      }\r\n    }\r\n\r\n\r\n\r\nexport default Link;"]},"metadata":{},"sourceType":"module"}